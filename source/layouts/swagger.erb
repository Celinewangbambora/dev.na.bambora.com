<!DOCTYPE html>
<html>
  <head>
    <%= partial "layouts/head" %>
  </head>

  <body class="<%= page_classes %>">
      
    <%= partial "layouts/header" %>

    <div class="container">

      <%= partial "layouts/breadcrumb_trail" %> 
      <%= partial "layouts/edit_on_github" %>

      <%= partial "layouts/side_nav" %>

      <div class="row">
        <div class="col-md-9 col-md-offset-3">
          <div class="markdown">
            <%= yield %>
          </div>
        </div>
      </div> <!-- /.row -->

      <div class="row">
        <div class="col-md-9 col-md-offset-3 js-toc-content">
        
        <%# swagger = data.petstore_deref %>
        <% swagger = data.petstore %>
        <% definitions = swagger.definitions %>

        <!-- Summary Block --> 
        <% info = swagger.info %>
        <h2><%= info.title %></h2>
        <%= render_markdown info.description %>
        
        <p><strong>Version:</strong> <%= info.version %></p>
        
        <p><strong>Contact:</strong> 
        <p><%= info.contact.name if info.contact.name %></p>
        <p><%= info.contact.url if info.contact.url %></p>
        <p><%= info.contact.email if info.contact.email %></p>

        <p><strong>Terms of Service:</strong> <a href="<%= info.termsOfService %>"><%= info.termsOfService %></a></p>
        <p><strong>License:</strong> <a href="<%= info.license.url %>"><%= info.license.name %></a></p>


        <!-- Paths --> 
        <h2>Paths</h2>
        <% paths = swagger.paths %>
        <% paths.each do |path| %>
          <%= partial "layouts/_swagger_partials/path", :locals => {
              :path => path, 
              :definitions => definitions
              } %>
        <% end %> <!-- paths.each -->
        </div>
      </div>
    </div> <!-- /.container -->

    <%= partial "layouts/footer" %>

    <%= javascript_include_tag "page/swagger" %>
    <%= javascript_include_tag "page/tocbot_init_script" %>
  </body>
</html>